{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\commons-0.1.0\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\commons-0.1.0\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\commons-0.1.0\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\commons-0.1.0\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\commons-0.1.0\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\commons-0.1.0\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\commons-0.1.0\\\\client\\\\src\\\\routes\\\\Publish\\\\Step.tsx\";\nimport React, { PureComponent } from 'react';\nimport Input from '../../components/atoms/Form/Input';\nimport Label from '../../components/atoms/Form/Label';\nimport Row from '../../components/atoms/Form/Row';\nimport Button from '../../components/atoms/Button';\nimport { User } from '../../context/User';\nimport Files from './Files/';\nimport StepRegisterContent from './StepRegisterContent';\nimport styles from './Step.module.scss';\n\nvar Step =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  _inherits(Step, _PureComponent);\n\n  function Step() {\n    _classCallCheck(this, Step);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Step).apply(this, arguments));\n  }\n\n  _createClass(Step, [{\n    key: \"previousButton\",\n    value: function previousButton() {\n      var _this$props = this.props,\n          currentStep = _this$props.currentStep,\n          prev = _this$props.prev;\n\n      if (currentStep !== 1) {\n        return React.createElement(Button, {\n          link: true,\n          onClick: prev,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }, \"\\u2190 Previous\");\n      }\n\n      return null;\n    }\n  }, {\n    key: \"nextButton\",\n    value: function nextButton() {\n      var _this$props2 = this.props,\n          currentStep = _this$props2.currentStep,\n          next = _this$props2.next,\n          totalSteps = _this$props2.totalSteps,\n          state = _this$props2.state;\n\n      if (currentStep < totalSteps) {\n        return React.createElement(Button, {\n          disabled: !state.validationStatus[currentStep].allFieldsValid,\n          onClick: next,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, \"Next \\u2192\");\n      }\n\n      return null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n          currentStep = _this$props3.currentStep,\n          index = _this$props3.index,\n          title = _this$props3.title,\n          description = _this$props3.description,\n          fields = _this$props3.fields,\n          inputChange = _this$props3.inputChange,\n          state = _this$props3.state,\n          totalSteps = _this$props3.totalSteps,\n          tryAgain = _this$props3.tryAgain,\n          toStart = _this$props3.toStart,\n          content = _this$props3.content;\n\n      if (currentStep !== index + 1) {\n        return null;\n      }\n\n      var lastStep = currentStep === totalSteps;\n      return React.createElement(React.Fragment, null, React.createElement(\"header\", {\n        className: styles.header,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: styles.title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, title), React.createElement(\"p\", {\n        className: styles.description,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, description)), fields && Object.entries(fields).map(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            key = _ref2[0],\n            value = _ref2[1];\n\n        if (key === 'files') {\n          return React.createElement(Row, {\n            key: key,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 111\n            },\n            __self: this\n          }, React.createElement(Label, {\n            htmlFor: key,\n            required: true,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 112\n            },\n            __self: this\n          }, value.label), React.createElement(Files, {\n            placeholder: value.placeholder,\n            name: key,\n            help: value.help,\n            files: state.files,\n            onChange: inputChange,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 115\n            },\n            __self: this\n          }));\n        }\n\n        return React.createElement(Input, {\n          key: key,\n          name: key,\n          label: value.label,\n          placeholder: value.placeholder,\n          required: value.required,\n          type: value.type,\n          help: value.help,\n          options: value.options,\n          onChange: inputChange,\n          rows: value.rows,\n          value: state[key],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127\n          },\n          __self: this\n        });\n      }), lastStep && React.createElement(StepRegisterContent, {\n        tryAgain: tryAgain,\n        toStart: toStart,\n        state: state,\n        content: content,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: styles.actions,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, this.previousButton(), this.nextButton(), lastStep && React.createElement(User.Consumer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, function (states) {\n        return states.isLogged ? React.createElement(Button, {\n          primary: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        }, \"Register asset\") : states.isWeb3 ? React.createElement(Button, {\n          onClick: states.startLogin,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162\n          },\n          __self: this\n        }, \"Register asset (unlock Metamask)\") : React.createElement(Button, {\n          onClick: function onClick(e) {\n            e.preventDefault();\n            window.open('https://docs.oceanprotocol.com/tutorials/metamask-setup/', '_blank');\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166\n          },\n          __self: this\n        }, \"Register asset (install Metamask)\");\n      })));\n    }\n  }]);\n\n  return Step;\n}(PureComponent);\n\nexport { Step as default };\nStep.contextType = User;","map":{"version":3,"sources":["C:\\Users\\ASUS\\Desktop\\commons-0.1.0\\client\\src\\routes\\Publish\\Step.tsx"],"names":["React","PureComponent","Input","Label","Row","Button","User","Files","StepRegisterContent","styles","Step","props","currentStep","prev","next","totalSteps","state","validationStatus","allFieldsValid","index","title","description","fields","inputChange","tryAgain","toStart","content","lastStep","header","Object","entries","map","key","value","label","placeholder","help","files","required","type","options","rows","actions","previousButton","nextButton","states","isLogged","isWeb3","startLogin","e","preventDefault","window","open","contextType"],"mappings":"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","sourcesContent":["import React, { PureComponent, FormEvent, ChangeEvent } from 'react'\nimport Input from '../../components/atoms/Form/Input'\nimport Label from '../../components/atoms/Form/Label'\nimport Row from '../../components/atoms/Form/Row'\nimport Button from '../../components/atoms/Button'\nimport { User } from '../../context/User'\nimport Files from './Files/'\nimport StepRegisterContent from './StepRegisterContent'\nimport styles from './Step.module.scss'\n\ninterface Fields {\n    label: string\n    placeholder?: string\n    help?: string\n    type: string\n    required?: boolean\n    options?: string\n    rows?: number\n}\n\ninterface StepProps {\n    currentStep: number\n    index: number\n    inputChange(\n        event:\n            | FormEvent<HTMLInputElement>\n            | ChangeEvent<HTMLInputElement>\n            | ChangeEvent<HTMLSelectElement>\n            | ChangeEvent<HTMLTextAreaElement>\n    ): void\n    inputToArrayChange(\n        event: ChangeEvent<HTMLSelectElement> | ChangeEvent<HTMLInputElement>\n    ): void\n    fields?: Fields\n    state: any\n    title: string\n    description: string\n    next(): void\n    prev(): void\n    totalSteps: number\n    tryAgain(): void\n    toStart(): void\n    publishedDid?: string\n    content?: string\n}\n\nexport default class Step extends PureComponent<StepProps, {}> {\n    public previousButton() {\n        const { currentStep, prev } = this.props\n\n        if (currentStep !== 1) {\n            return (\n                <Button link onClick={prev}>\n                    ← Previous\n                </Button>\n            )\n        }\n        return null\n    }\n\n    public nextButton() {\n        const { currentStep, next, totalSteps, state } = this.props\n\n        if (currentStep < totalSteps) {\n            return (\n                <Button\n                    disabled={\n                        !state.validationStatus[currentStep].allFieldsValid\n                    }\n                    onClick={next}\n                >\n                    Next →\n                </Button>\n            )\n        }\n        return null\n    }\n\n    public render() {\n        const {\n            currentStep,\n            index,\n            title,\n            description,\n            fields,\n            inputChange,\n            state,\n            totalSteps,\n            tryAgain,\n            toStart,\n            content\n        } = this.props\n\n        if (currentStep !== index + 1) {\n            return null\n        }\n\n        const lastStep = currentStep === totalSteps\n\n        return (\n            <>\n                <header className={styles.header}>\n                    <h2 className={styles.title}>{title}</h2>\n                    <p className={styles.description}>{description}</p>\n                </header>\n\n                {fields &&\n                    Object.entries(fields).map(([key, value]) => {\n                        if (key === 'files') {\n                            return (\n                                <Row key={key}>\n                                    <Label htmlFor={key} required>\n                                        {value.label}\n                                    </Label>\n                                    <Files\n                                        placeholder={value.placeholder}\n                                        name={key}\n                                        help={value.help}\n                                        files={state.files}\n                                        onChange={inputChange}\n                                    />\n                                </Row>\n                            )\n                        }\n\n                        return (\n                            <Input\n                                key={key}\n                                name={key}\n                                label={value.label}\n                                placeholder={value.placeholder}\n                                required={value.required}\n                                type={value.type}\n                                help={value.help}\n                                options={value.options}\n                                onChange={inputChange}\n                                rows={value.rows}\n                                value={(state as any)[key]}\n                            />\n                        )\n                    })}\n\n                {lastStep && (\n                    <StepRegisterContent\n                        tryAgain={tryAgain}\n                        toStart={toStart}\n                        state={state}\n                        content={content}\n                    />\n                )}\n\n                <div className={styles.actions}>\n                    {this.previousButton()}\n                    {this.nextButton()}\n\n                    {lastStep && (\n                        <User.Consumer>\n                            {states =>\n                                states.isLogged ? (\n                                    <Button primary>Register asset</Button>\n                                ) : states.isWeb3 ? (\n                                    <Button onClick={states.startLogin}>\n                                        Register asset (unlock Metamask)\n                                    </Button>\n                                ) : (\n                                    <Button\n                                        onClick={(e: Event) => {\n                                            e.preventDefault()\n                                            window.open(\n                                                'https://docs.oceanprotocol.com/tutorials/metamask-setup/',\n                                                '_blank'\n                                            )\n                                        }}\n                                    >\n                                        Register asset (install Metamask)\n                                    </Button>\n                                )\n                            }\n                        </User.Consumer>\n                    )}\n                </div>\n            </>\n        )\n    }\n}\n\nStep.contextType = User\n"]},"metadata":{},"sourceType":"module"}