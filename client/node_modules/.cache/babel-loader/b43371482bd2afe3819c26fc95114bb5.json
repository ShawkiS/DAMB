{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\commons-0.1.0\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\commons-0.1.0\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\commons-0.1.0\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\commons-0.1.0\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\commons-0.1.0\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\commons-0.1.0\\\\client\\\\src\\\\routes\\\\Publish\\\\Files\\\\ItemForm.tsx\";\nimport React, { PureComponent } from 'react';\nimport isUrl from 'is-url';\nimport Input from '../../../components/atoms/Form/Input';\nimport Button from '../../../components/atoms/Button';\nimport styles from './ItemForm.module.scss';\n\nvar ItemForm =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  _inherits(ItemForm, _PureComponent);\n\n  function ItemForm() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ItemForm);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ItemForm)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      url: '',\n      hasError: false,\n      noUrl: false\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n      var url = _this.state.url; // return when required fields are empty, and url value is no url\n      // Can't use browser validation cause we are in a form within a form\n\n      if (!url) {\n        _this.setState({\n          hasError: true\n        });\n\n        return;\n      }\n\n      if (url && !isUrl(url)) {\n        _this.setState({\n          noUrl: true\n        });\n\n        return;\n      }\n\n      _this.props.addItem(url);\n    };\n\n    _this.onChangeUrl = function (e) {\n      _this.setState({\n        url: e.currentTarget.value\n      });\n\n      _this.clearErrors();\n    };\n\n    return _this;\n  }\n\n  _createClass(ItemForm, [{\n    key: \"clearErrors\",\n    value: function clearErrors() {\n      if (this.state.hasError) this.setState({\n        hasError: false\n      });\n      if (this.state.noUrl) this.setState({\n        noUrl: true\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          url = _this$state.url,\n          hasError = _this$state.hasError,\n          noUrl = _this$state.noUrl;\n      return React.createElement(\"div\", {\n        className: styles.itemForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(Input, {\n        label: \"Url\",\n        name: \"url\",\n        required: true,\n        type: \"url\",\n        placeholder: this.props.placeholder,\n        value: url,\n        onChange: this.onChangeUrl,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }), React.createElement(Button, {\n        onClick: function onClick(e) {\n          return _this2.handleSubmit(e);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"Add File\"), hasError && React.createElement(\"span\", {\n        className: styles.error,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"Please fill in all required fields.\"), noUrl && React.createElement(\"span\", {\n        className: styles.error,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"Please enter a valid URL.\"));\n    }\n  }]);\n\n  return ItemForm;\n}(PureComponent);\n\nexport { ItemForm as default };","map":{"version":3,"sources":["C:\\Users\\ASUS\\Desktop\\commons-0.1.0\\client\\src\\routes\\Publish\\Files\\ItemForm.tsx"],"names":["React","PureComponent","isUrl","Input","Button","styles","ItemForm","state","url","hasError","noUrl","handleSubmit","e","preventDefault","setState","props","addItem","onChangeUrl","currentTarget","value","clearErrors","itemForm","placeholder","error"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,aAAhB,QAAqC,OAArC;AACA,OAAOC,KAAP,MAAkB,QAAlB;AACA,OAAOC,KAAP,MAAkB,sCAAlB;AACA,OAAOC,MAAP,MAAmB,kCAAnB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;;IAaqBC,Q;;;;;;;;;;;;;;;;;UAIVC,K,GAAwB;AAC3BC,MAAAA,GAAG,EAAE,EADsB;AAE3BC,MAAAA,QAAQ,EAAE,KAFiB;AAG3BC,MAAAA,KAAK,EAAE;AAHoB,K;;UAMxBC,Y,GAAe,UAACC,CAAD,EAAc;AAChCA,MAAAA,CAAC,CAACC,cAAF;AADgC,UAGxBL,GAHwB,GAGhB,MAAKD,KAHW,CAGxBC,GAHwB,EAKhC;AACA;;AACA,UAAI,CAACA,GAAL,EAAU;AACN,cAAKM,QAAL,CAAc;AAAEL,UAAAA,QAAQ,EAAE;AAAZ,SAAd;;AACA;AACH;;AAED,UAAID,GAAG,IAAI,CAACN,KAAK,CAACM,GAAD,CAAjB,EAAwB;AACpB,cAAKM,QAAL,CAAc;AAAEJ,UAAAA,KAAK,EAAE;AAAT,SAAd;;AACA;AACH;;AAED,YAAKK,KAAL,CAAWC,OAAX,CAAmBR,GAAnB;AACH,K;;UAEMS,W,GAAc,UAACL,CAAD,EAA0C;AAC3D,YAAKE,QAAL,CAAc;AAAEN,QAAAA,GAAG,EAAEI,CAAC,CAACM,aAAF,CAAgBC;AAAvB,OAAd;;AACA,YAAKC,WAAL;AACH,K;;;;;;;kCAEoB;AACjB,UAAI,KAAKb,KAAL,CAAWE,QAAf,EAAyB,KAAKK,QAAL,CAAc;AAAEL,QAAAA,QAAQ,EAAE;AAAZ,OAAd;AACzB,UAAI,KAAKF,KAAL,CAAWG,KAAf,EAAsB,KAAKI,QAAL,CAAc;AAAEJ,QAAAA,KAAK,EAAE;AAAT,OAAd;AACzB;;;6BAEe;AAAA;;AAAA,wBACqB,KAAKH,KAD1B;AAAA,UACJC,GADI,eACJA,GADI;AAAA,UACCC,QADD,eACCA,QADD;AAAA,UACWC,KADX,eACWA,KADX;AAGZ,aACI;AAAK,QAAA,SAAS,EAAEL,MAAM,CAACgB,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,KAAD;AACI,QAAA,KAAK,EAAC,KADV;AAEI,QAAA,IAAI,EAAC,KAFT;AAGI,QAAA,QAAQ,MAHZ;AAII,QAAA,IAAI,EAAC,KAJT;AAKI,QAAA,WAAW,EAAE,KAAKN,KAAL,CAAWO,WAL5B;AAMI,QAAA,KAAK,EAAEd,GANX;AAOI,QAAA,QAAQ,EAAE,KAAKS,WAPnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAWI,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAE,iBAACL,CAAD;AAAA,iBAAc,MAAI,CAACD,YAAL,CAAkBC,CAAlB,CAAd;AAAA,SAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAXJ,EAeKH,QAAQ,IACL;AAAM,QAAA,SAAS,EAAEJ,MAAM,CAACkB,KAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CAhBR,EAoBKb,KAAK,IACF;AAAM,QAAA,SAAS,EAAEL,MAAM,CAACkB,KAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCArBR,CADJ;AA4BH;;;;EAvEiCtB,a;;SAAjBK,Q","sourcesContent":["import React, { PureComponent } from 'react'\nimport isUrl from 'is-url'\nimport Input from '../../../components/atoms/Form/Input'\nimport Button from '../../../components/atoms/Button'\nimport styles from './ItemForm.module.scss'\n\ninterface ItemFormProps {\n    addItem(url: string): void\n    placeholder: string\n}\n\ninterface ItemFormStates {\n    url: string\n    hasError: boolean\n    noUrl: boolean\n}\n\nexport default class ItemForm extends PureComponent<\n    ItemFormProps,\n    ItemFormStates\n> {\n    public state: ItemFormStates = {\n        url: '',\n        hasError: false,\n        noUrl: false\n    }\n\n    public handleSubmit = (e: Event) => {\n        e.preventDefault()\n\n        const { url } = this.state\n\n        // return when required fields are empty, and url value is no url\n        // Can't use browser validation cause we are in a form within a form\n        if (!url) {\n            this.setState({ hasError: true })\n            return\n        }\n\n        if (url && !isUrl(url)) {\n            this.setState({ noUrl: true })\n            return\n        }\n\n        this.props.addItem(url)\n    }\n\n    public onChangeUrl = (e: React.FormEvent<HTMLInputElement>) => {\n        this.setState({ url: e.currentTarget.value })\n        this.clearErrors()\n    }\n\n    public clearErrors() {\n        if (this.state.hasError) this.setState({ hasError: false })\n        if (this.state.noUrl) this.setState({ noUrl: true })\n    }\n\n    public render() {\n        const { url, hasError, noUrl } = this.state\n\n        return (\n            <div className={styles.itemForm}>\n                <Input\n                    label=\"Url\"\n                    name=\"url\"\n                    required\n                    type=\"url\"\n                    placeholder={this.props.placeholder}\n                    value={url}\n                    onChange={this.onChangeUrl}\n                />\n\n                <Button onClick={(e: Event) => this.handleSubmit(e)}>\n                    Add File\n                </Button>\n\n                {hasError && (\n                    <span className={styles.error}>\n                        Please fill in all required fields.\n                    </span>\n                )}\n                {noUrl && (\n                    <span className={styles.error}>\n                        Please enter a valid URL.\n                    </span>\n                )}\n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}